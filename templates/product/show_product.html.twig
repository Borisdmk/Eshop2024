{# show_product.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}Détails du produit{% endblock %}

{% block body %}
    <div class="container my-5">
        <a href="{{ path('app_product_index') }}" class="btn btn-dark mb-3 text-white">Retour à la liste des produits</a>

        <div class="card mb-5">
            <div class="row no-gutters">
                <div class="col-md-6">
                    <img src="{{ asset('/uploads/products/' ~ product.picture) }}" alt="{{ product.title }}" class="img-fluid">
                </div>
                <div class="col-md-6">
                    <div class="card-body">
                        <h2 class="card-title">{{ product.title }}</h2>
                        <p class="card-text"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 0 576 512"><path fill="#ff66c4" d="M64 128V96h64l0 320H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H224c17.7 0 32-14.3 32-32s-14.3-32-32-32H192l0-320h64v32c0 17.7 14.3 32 32 32s32-14.3 32-32V80c0-26.5-21.5-48-48-48H160 48C21.5 32 0 53.5 0 80v48c0 17.7 14.3 32 32 32s32-14.3 32-32zM502.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-64 64c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8h32V352H416c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l64 64c12.5 12.5 32.8 12.5 45.3 0l64-64c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8H512V160h32c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-64-64z"/></svg> <strong> Description:</strong> {{ product.description }}</p>
                        <p class="card-text"><svg xmlns="http://www.w3.org/2000/svg" height="20"  viewBox="00000 0 576 512"><path fill="#ff66c4" d="M112 112c0 35.3-28.7 64-64 64V336c35.3 0 64 28.7 64 64H464c0-35.3 28.7-64 64-64V176c-35.3 0-64-28.7-64-64H112zM0 128C0 92.7 28.7 64 64 64H512c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128zM176 256a112 112 0 1 1 224 0 112 112 0 1 1 -224 0zm80-48c0 8.8 7.2 16 16 16v64h-8c-8.8 0-16 7.2-16 16s7.2 16 16 16h24 24c8.8 0 16-7.2 16-16s-7.2-16-16-16h-8V208c0-8.8-7.2-16-16-16H272c-8.8 0-16 7.2-16 16z"/></svg><strong>  Prix:</strong> {{ product.price }} </p>
                        <p class="card-text"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 0 512 512"><path fill="#ff66c4" d="M192 96H320l47.4-71.1C374.5 14.2 366.9 0 354.1 0H157.9c-12.8 0-20.4 14.2-13.3 24.9L192 96zm128 32H192c-3.8 2.5-8.1 5.3-13 8.4l0 0 0 0C122.3 172.7 0 250.9 0 416c0 53 43 96 96 96H416c53 0 96-43 96-96c0-165.1-122.3-243.3-179-279.6c-4.8-3.1-9.2-5.9-13-8.4zM289.9 336l47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47z"/></svg> <strong> Stock:</strong> {{ product.stock }}</p>
                        {# Bouton Ajouter au panier #}
                        <form action="{{ path('app_cart_add', {'idProduct': product.id}) }}" method="POST" class="mt-4">
                            <button type="submit" class="btn btn-success btn-lg">Ajouter au panier</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        {# Section des avis des utilisateurs
        <div class="mt-5">
            <h3>Commentaires des clients</h3>
            <div class="list-group">
                {% for comment in product.comments %}
                    <div class="list-group-item">
                        <p>{{ comment.content }}</p>
                        <footer class="blockquote-footer">{{ comment.user.firstname }} {{ comment.user.name }} le {{ comment.date|date('d/m/Y') }}</footer>
                    </div>
                {% else %}
                    <div class="list-group-item">
                        <p>Pas de commentaires pour ce produit pour le moment.</p>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div> #}
{% endblock %}
